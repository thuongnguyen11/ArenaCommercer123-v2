(()=>{function d(){console.log("vao r1");async function e(o,r){let i=await(await fetch(o)).text();t(i,r),console.log("chay di")}function t(o,r){let a=document.createElement("div");a.innerHTML=o;let i=a.querySelector("#product-list-foot").dataset.url;console.log(i),r.setAttribute("data-url",i),a.querySelectorAll("#AjaxinateContainer > * ").forEach(u=>{document.getElementById("AjaxinateContainer").appendChild(u)})}let c=document.getElementById("product-list-foot");new IntersectionObserver(o=>{console.log("chay dum cai di"),console.log(o),o.forEach(r=>{r.isIntersecting&&(console.log("huhu"),e(r.target.dataset.url,c))})}).observe(c)}d();document.getElementById("sort-by").addEventListener("change",s);document.getElementById("btn-submit-price").addEventListener("click",s);document.querySelectorAll(".checkbox").forEach(e=>{e.addEventListener("change",s)});function f(){document.querySelectorAll(".num-of-page").forEach(e=>{e.addEventListener("click",()=>{s(e.dataset.url)})})}f();var l="";function s(e){let t=document.getElementById("sort-by").value;var c=document.getElementsByClassName("checkbox");let n=[];for(var o of c)o.checked&&n.push(`&${o.name}=${o.value.replace(" ","+")}`);let r=n.join("");l="";let a=document.querySelector(".min-price"),i=document.querySelector(".max-price"),m=`&${a.name}=${a.value}`,u=`&${i.name}=${i.value}`;l=`${m+u}`,y(t,r,l,e),g();let p=document.getElementById("product-list-foot");d(p)}function y(e,t,c,n){isExist=typeof n=="object",n=isExist?"":`&page=${n}`,history.pushState("","",`?sort_by=${e+t+c+n}`)}async function g(){let t=await(await fetch(location.href)).text();h(t)}function h(e){let t=document.createElement("div");t.innerHTML=e;let c=t.querySelectorAll("#current-page > * ");document.getElementById("current-page").innerHTML="",c.forEach(n=>{document.getElementById("current-page").appendChild(n)}),f()}function E(){jQuery.post(window.Shopify.routes.root+"cart/update.js",{attributes:{idCard:Number(document.getElementById("number-item").value)}},()=>{s()})}window.selector=E;window.updateData=s;})();
